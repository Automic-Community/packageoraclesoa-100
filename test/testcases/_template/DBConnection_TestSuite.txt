*** Settings ***
Documentation     NOTE:
...               add note here
Suite Setup       Setup_suite
Suite Teardown    Teardown_suite
Force Tags        #_action_short_name_#  DBConnection   _template_
Default Tags      win    unix
Test Template     #_action_keyword_template_name_#
Resource          prt_keywords.txt
Resource          ../../resources/keywords.txt

*** Test Cases ***    OK_NOK    Siebel Connection String    Siebel Username    Siebel Password        Language                Path of siebel.properties    RETURN CODE    RETURN STATUS    MESSAGE
01_Success execute with Default Valid inputs
                      OK        ${_SIEBEL_CONNECTION}       ${_SIEBEL_USER}    ${_SIEBEL_PASSWORD}    ${EMPTY}                ${EMPTY}                     0              ${ENDED_OK}      ${EMPTY}

02_Success execute with Valid inputs
                      OK        ${_SIEBEL_CONNECTION}       ${_SIEBEL_USER}    ${_SIEBEL_PASSWORD}    ${_SIEBEL_CONN_LANG}    ${_SIEBEL_PROPERTIES_DIR}    0              ${ENDED_OK}       ${EMPTY}

03_Failed execute with Invalid Siebel Connection String
                      NOK       Invalid_input               ${_SIEBEL_USER}    ${_SIEBEL_PASSWORD}    ${EMPTY}                ${EMPTY}                     0              ${ENDED_NOK}     Invalid or incomplete connection string.

04_Failed execute with Invalid Siebel Username
                      NOK       ${_SIEBEL_CONNECTION}       Invalid_input      ${_SIEBEL_PASSWORD}    ${EMPTY}                ${EMPTY}                     0              ${ENDED_NOK}     The username or password you have entered is not correct

05_Failed execute with Invalid Siebel Password
                      NOK       ${_SIEBEL_CONNECTION}       ${_SIEBEL_USER}    Invalid_input          ${EMPTY}                ${EMPTY}                     0              ${ENDED_NOK}     The username or password you have entered is not correct

06_Failed execute with Invalid Language
                      NOK       ${_SIEBEL_CONNECTION}       ${_SIEBEL_USER}    ${_SIEBEL_PASSWORD}    Invalid_input           ${EMPTY}                     0              ${ENDED_NOK}     Error loading translatable messages

07_Success execute with Invalid Path of siebel.properties
                      OK       ${_SIEBEL_CONNECTION}       ${_SIEBEL_USER}    ${_SIEBEL_PASSWORD}    ${EMPTY}                Invalid_input                0              ${ENDED_OK}      no property are loaded!
               
*** Keywords ***

#_action_keyword_template_name_#
    #_template_documentation_#
    ...    All inputs are default and valid, except input variables for SIEBEL DB CONNECTION promptset. Required inputs:
    ...    - ${UC4RB_SIEBEL_USER} : The Siebel user to connect.
    ...    - ${UC4RB_SIEBEL_PASSWORD}: The Password to connect with the Siebel user.
    ...    - ${UC4RB_SIEBEL_CONNECTION}: Connection string used for connecting to Siebel server.
    ...    - ${UC4RB_SIEBEL_PROPERTIES_DIR}: Directory where custom siebel.properties file is located.
    ...    - ${UC4RB_SIEBEL_CONNECTION_LANG}: The language used to login to Siebel
    ...    - ${returnCode}: expected return code after execution
    ...    - ${returnStatus}: expected return status after execution
    ...    - ${message}: expected message contained in report after execution
    [Arguments]   ${OK_NOK}   ${_SIEBEL_CONNECTION}    ${_SIEBEL_USER}   ${_SIEBEL_PASSWORD}     ${_SIEBEL_CONN_LANG}     ${_SIEBEL_PROPERTIES_DIR}    ${returnCode}     ${returnStatus}    ${message}
    Init Action    #_action_variable_name_#
    Set Java Properties Promptset
    Action Set    ${PRT_SIEBEL_DB_CONNECTION_UC4RB_SIEBEL_USER}    ${_SIEBEL_USER}
    Action Set    ${PRT_SIEBEL_DB_CONNECTION_UC4RB_SIEBEL_PASSWORD}    ${_SIEBEL_PASSWORD}
    Action Set    ${PRT_SIEBEL_DB_CONNECTION_UC4RB_SIEBEL_CONNECTION}    ${_SIEBEL_CONNECTION}
    Action Set    ${PRT_SIEBEL_DB_CONNECTION_UC4RB_SIEBEL_PROPERTIES_DIR}    ${_SIEBEL_PROPERTIES_DIR}
    Action Set    ${PRT_SIEBEL_DB_CONNECTION_UC4RB_SIEBEL_CONNECTION_LANG}    ${_SIEBEL_CONN_LANG}
	Set Not Use Sudo
    Action Set Timeout    500
    Action Execute
    Action Report Should Be Found
    Run Keyword If    '${OK_NOK}'=='OK'    Action Return Code Should Be    ${returnCode}
    Run Keyword If    '${OK_NOK}'=='NOK'    Action Return Code Should Not Equal    ${returnCode}
    Action Return Status Should Be    ${returnStatus}
    Action Report Should Contain    ${header_logging}
    Action Report Should Contain    ${param_logging} 
    Run Keyword If    '${OK_NOK}'=='OK'   Action Report Should Contain    ${execution_logging}    
    Run Keyword If    '${OK_NOK}'=='OK'   Action Report Should Contain    ${message}
    Run Keyword If    '${OK_NOK}'=='OK'    Action Report Should Contain    ${footer_logging_OK}
        
Setup_suite
    [Documentation]    TODO: Write all steps need prepare before testing here
    Log   Start testing DBConnection for #_action_keyword_template_name_#
    
Teardown_suite
    [Documentation]    TODO: Write all steps for cleanup after testing here
    Log   Testing DBConnection for #_action_keyword_template_name_# end